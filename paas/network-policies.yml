---
network-policies:
  - src: adminusers
    dest: egress
    ports: 8080
    protocol: tcp
  - src: adminusers
    dest: postgres
    ports: 5432
    protocol: tcp

  - src: card-frontend
    dest: card-connector
    ports: 8080
    protocol: tcp
  - src: card-frontend
    dest: cardid
    ports: 8080
    protocol: tcp
  - src: card-frontend
    dest: adminusers
    ports: 8080
    protocol: tcp

  - src: card-connector
    dest: egress
    ports: 8080
    protocol: tcp
  - src: card-connector
    dest: postgres
    ports: 5432
    protocol: tcp
  - src: card-connector
    dest: sqs
    ports: 9324
    protocol: tcp

  - src: directdebit-frontend
    dest: directdebit-connector
    ports: 8080
    protocol: tcp
  - src: directdebit-frontend
    dest: adminusers
    ports: 8080
    protocol: tcp

  - src: directdebit-connector
    dest: egress
    ports: 8080
    protocol: tcp
  - src: directdebit-connector
    dest: postgres
    ports: 5432
    protocol: tcp

  - src: ledger
    dest: postgres
    ports: 5432
    protocol: tcp
  - src: ledger
    dest: sqs
    ports: 9324
    protocol: tcp

  - src: publicauth
    dest: postgres
    ports: 5432
    protocol: tcp

  - src: products
    dest: postgres
    ports: 5432
    protocol: tcp

  - src: notifications
    dest: directdebit-connector
    ports: 443
    protocol: tcp
  - src: notifications
    dest: card-connector
    ports: 443
    protocol: tcp
